require(["config"],function(){require(["libs/pjs","libs/chart","libs/utily","libs/sidebar"],function(a,b,c){var d=c.toFixed,e=a.getPathArgument("hotelId"),f={tableSummary:[{areaName:"一楼",allTableNum:6,onTableNum:0,onSeatRate:0,onSeatRatePercent:"0%",needMoney:0,needMoneyText:null},{areaName:"二楼",allTableNum:3,onTableNum:0,onSeatRate:0,onSeatRatePercent:"0%",needMoney:0,needMoneyText:null},{areaName:"三楼",allTableNum:5,onTableNum:2,onSeatRate:0,onSeatRatePercent:"0%",needMoney:134,needMoneyText:null}],topTable:[{needMoney:96,tableName:"115"},{needMoney:38,tableName:"114"}]},g=document.querySelector(".bar-item"),h=document.querySelector(".table-hint"),i=document.querySelector(".bar-wrap"),j=0,k=0,l=0,m=h.outerHTML,n=f.tableSummary;if(n){document.querySelector(".realtable-summary").style.display="block";for(var o=0,p=n.length;p>o;o+=1)j+=n[o].allTableNum,k+=n[o].needMoney,l+=n[o].onTableNum,g.querySelector(".bar-label").innerText=n[o].areaName,g.querySelector(".left-bar").innerText=n[o].onTableNum,g.querySelector(".left-bar").style.width=429*(n[o].onTableNum/n[o].allTableNum)+"px",g.querySelector(".right-bar").innerText=0===n[o].onTableNum?"未开台":n[o].allTableNum-n[o].onTableNum,g.querySelector(".right-bar").style.width=429*((n[o].allTableNum-n[o].onTableNum)/n[o].allTableNum)+"px",g.querySelector(".bar-desc").innerText="共"+n[o].allTableNum+"桌",m+=g.outerHTML}else document.querySelector(".realtable-summary").style.display="none";document.querySelector("#js_totaltabnum").innerText=j,document.querySelector("#js_totalmoney").innerText=d(k,2),document.querySelector("#js_ontabnum").innerText=l,document.querySelector("#js_emptytabnum").innerText=j-l,document.querySelector("#js_ontabprecent").innerText=d(l/j*100,2)+"%",document.querySelector("#js_pertabcost").innerText=l>0?d(k/l,2):0,i.innerHTML=m,function(){for(var a=f.topTable,b=document.querySelectorAll(".topcost-item"),c=0,e=a.length;e>c;c+=1)b[c].querySelector(".topnum").innerText="TOP"+(c+1),b[c].querySelector(".top-restname").innerText=a[c].tableName+"号桌",b[c].querySelector(".top-money").innerText="￥"+d(a[c].needMoney,2)}();var q=document.querySelector(".top-nav").querySelector(".go-directory");q.href=q.href+"?hotelId="+e;var r=document.querySelector(".go-back");r.addEventListener("touchstart",function(){window.location.href="index.html?hotelId="+e},!1)})});